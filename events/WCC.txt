###########################
# WCC Events
###########################

add_namespace = wcc

###Start of the War###

country_event = { #Entente Aid
	id = wcc.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event wcc.1"}
	title = wcc.1.t
	desc = wcc.1.d

	fire_only_once = yes

	is_triggered_only = yes

	option = {
		name = wcc.1.a
		ai_chance = {
			factor = 100
		}
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -425
			producer = CAN
		}
		add_equipment_to_stockpile = {
			type = fighter_equipment
			amount = -110
			producer = CAN
		}
		add_manpower -650
		add_political_power = -15
		country_event = {
				id = wcc.2
				days = 20
		} #WCC Aided
	}
	option = {
		name = wcc.1.b
		country_event = {
				id = wcc.3
				days = 20
		} #WCC Denied
	}
}

country_event = { #Entente Aid Received
	id = wcc.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event wcc.2"}
	title = wcc.2.t
	desc = wcc.2.d

	fire_only_once = yes

	is_triggered_only = yes

	option = {
		name = wcc.2.a
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 425
			producer = CAN
			}
		add_equipment_to_stockpile = {
			type = fighter_equipment
			amount = 110
			producer = CAN
			}
		add_manpower = 650
		army_experience = 15
		add_political_power = 40
		add_opinion_modifier = { target = CAN modifier = medium_increase }
	}
}

country_event = { #Entente Aid Declined
	id = wcc.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event wcc.3"}
	title = wcc.3.t
	desc = wcc.3.d

	fire_only_once = yes

	is_triggered_only = yes

	option = {
		name = wcc.3.a
		add_opinion_modifier = { target = CAN modifier = medium_decrease }
	}
}

country_event = { #PSA Fate
	id = wcc.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event wcc.4"}
	title = wcc.4.t
	desc = wcc.4.d

	fire_only_once = yes

	is_triggered_only = yes

	option = {
		name = wcc.4.a
		add_political_power = -40
		add_popularity = { ideology = social_democrat popularity = 0.02 }
		add_popularity = { ideology = social_liberal popularity = 0.02 }
		add_popularity = { ideology = market_liberal popularity = 0.02 }
		add_popularity = { ideology = social_conservative popularity = 0.02 }
		add_manpower = 20000
		add_stability = 0.05
	}
	option = {
		name = wcc.4.b
		add_political_power = 45
		add_popularity = { ideology = authoritarian_democrat popularity = 0.05 }
		add_stability = -0.03
	}
}

country_event = { #The Fallen Cause
	id = wcc.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event wcc.5"}
	title = wcc.5.t
	desc = wcc.5.d

	fire_only_once = yes

	is_triggered_only = yes

	option = {
		name = wcc.5.a
		add_political_power = -40
		add_popularity = { ideology = social_democrat popularity = 0.02 }
		add_popularity = { ideology = social_liberal popularity = 0.02 }
		add_popularity = { ideology = market_liberal popularity = 0.02 }
		add_popularity = { ideology = social_conservative popularity = 0.02 }
		add_manpower = 20000
		add_stability = 0.05
	}
	option = {
		name = wcc.5.b
		add_political_power = 45
		add_popularity = { ideology = authoritarian_democrat popularity = 0.05 }
		add_stability = -0.03
	}
}

country_event = { #Patton's Fate
	id = wcc.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event wcc.6"}
	title = wcc.6.t
	desc = wcc.6.d

	fire_only_once = yes

	is_triggered_only = yes

	option = {
		name = wcc.6.a
		add_political_power = -40
		add_popularity = { ideology = social_democrat popularity = 0.02 }
		add_popularity = { ideology = social_liberal popularity = 0.02 }
		add_popularity = { ideology = market_liberal popularity = 0.02 }
		add_popularity = { ideology = social_conservative popularity = 0.02 }
		add_manpower = 20000
		add_stability = 0.05
	}
	option = {
		name = wcc.6.b
		add_political_power = 45
		add_popularity = { ideology = authoritarian_democrat popularity = 0.05 }
		add_stability = -0.03
	}
}

country_event = { #WCC-USA Victory
	id = wcc.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event wcc.7"}
	title = wcc.7.t
	desc = wcc.7.d

	trigger = {
	tag = WCC
	USA = {
	exists = yes
		}
	WCC = {
	exists = yes
		}
	COR = {
	exists = no
		}
	CSA = {
	exists = no
		}
	NOT = {
	CAL = {
	has_war_with = WCC
		} 
	}
	NOT = {
	CAL = {
	has_war_with = USA
		} 
	}
	}
	
	mean_time_to_happen = {
		days = 3
	}
	
	fire_only_once = yes

	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = WCC_american_standoff
						option = WCC_STANDOFF_WAR
					}
					has_game_rule = {
						rule = WCC_american_standoff
						option = WCC_STANDOFF_REINTEGRATE
					}					
				}
			}
		}
		name = wcc.7.a
		USA = {
		country_event = {
				id = wcc.8
				days = 1
			} #
		}
	}
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = WCC_american_standoff
						option = WCC_STANDOFF_SHARE_POWER
					}
					has_game_rule = {
						rule = WCC_american_standoff
						option = WCC_STANDOFF_REINTEGRATE
					}					
				}
			}
		}
		name = wcc.7.b
		add_political_power = -40
		add_stability = -0.08
		add_war_support = -0.2
		declare_war_on = {
			target = USA
			type = annex_everything
		}
	}
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = WCC_american_standoff
						option = WCC_STANDOFF_WAR
					}
					has_game_rule = {
						rule = WCC_american_standoff
						option = WCC_STANDOFF_SHARE_POWER
					}					
				}
			}
		}
		name = wcc.7.c
		USA = {
		country_event = {
				id = wcc.10
				days = 1
			} #
		}
	}
}

country_event = { #WCC Demands
	id = wcc.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event wcc.8"}
	title = wcc.8.t
	desc = wcc.8.d
	
	fire_only_once = yes

	is_triggered_only = yes

	option = { #Agree
		ai_chance = {
			factor = 1
		}
		name = wcc.8.a
		set_country_flag = USA_mac_shared_power
		add_political_power = -50
		USA = {
		country_event = {
				id = wcc.9
				days = 1
			} #
		}
	}
	option = { #Disagree
		ai_chance = {
			factor = 1
			modifier = {
			factor = 0
				has_game_rule = {
					rule = WCC_american_standoff
					option = WCC_STANDOFF_SHARE_POWER
				}					
			}
		}
		name = wcc.8.b
		add_political_power = -30
		add_stability = -0.1
		add_command_power = -15
		add_war_support = 0.05
		declare_war_on = {
			target = WCC
			type = annex_everything
		}
	}
}

country_event = { #MacArthur Accepts
	id = wcc.9
	immediate = {log = "[GetDateText]: [Root.GetName]: event wcc.9"}
	title = wcc.9.t
	desc = wcc.9.d
	
	fire_only_once = yes

	is_triggered_only = yes

	option = { #Agree
		name = wcc.9.a
		USA = {
		annex_country = {
		target = WCC
		transfer_troops = yes
			}
		}
	}
}

country_event = { #WCC Reintegrates
	id = wcc.10
	immediate = {log = "[GetDateText]: [Root.GetName]: event wcc.10"}
	title = wcc.10.t
	desc = wcc.10.d
	
	fire_only_once = yes

	is_triggered_only = yes

	option = { #Agree
		name = wcc.10.a
		add_political_power = 30
		add_stability = 0.05
		USA = {
		annex_country = {
		target = WCC
		transfer_troops = yes
			}
		set_country_flag = WCC_reintegrated
		}
	}
}

country_event = { #MacArthur Assumes Command
	id = wcc.11
	immediate = {log = "[GetDateText]: [Root.GetName]: event wcc.11"}
	title = wcc.11.t
	desc = wcc.11.d
	
	fire_only_once = yes

	is_triggered_only = yes

	option = { #Agree
		name = wcc.11.a
		ai_chance = {
			factor = 100
		}
		add_stability = 0.05
		add_war_support = 0.05
		add_popularity = { ideology = national_populist popularity = 0.1 }
		USA = {
		country_event = {
		id = wcc.12
		days = 1
			}
		}
	}
	
	option = { #No
		name = wcc.11.b
		ai_chance = {
			factor = 0
		}
		add_stability = -0.1
		add_manpower = -15000
		add_war_support = -0.1
		add_political_power = 40
		add_popularity = { ideology = authoritarian_democrat popularity = 0.1 }
		if = {
			limit = {
				country_exists = USA
			}
			declare_war_on = {
				target = USA
				type = annex_everything
			}
		}
	}
}

country_event = { #WCC Reintegrates
	id = wcc.12
	immediate = {log = "[GetDateText]: [Root.GetName]: event wcc.12"}
	title = wcc.12.t
	desc = wcc.12.d
	
	fire_only_once = yes

	is_triggered_only = yes

	option = { #Agree
		name = wcc.12.a
		USA = {
			every_unit_leader = {
				limit = { has_id = 56 }
				set_nationality = WCC
			}
		}
		WCC = {
			change_tag_from = USA
		}
		WCC = {
		add_manpower = 35000
		add_command_power = 25
		army_experience = 20
		add_political_power = 20
		create_country_leader = {
				name = "Douglas MacArthur"
				desc = "POLITICS_DOUGLAS_MACARTHUR_DESC"
				picture = "gfx/leaders/USA/Portrait_USA_gen_douglas_macarthur.tga"
				expire = "1965.1.1"
				ideology = national_populist_subtype
				traits = {}
			}
			add_popularity = { ideology = national_populist popularity = 0.32 }
			set_party_name = {
					ideology = national_populist
					long_name = WCC_MAC_PARTY
					name = WCC_MAC_PARTY_long 
				}
			}
		set_politics = {
			ruling_party = national_populist
			elections_allowed = no
		}
		}
	}
}