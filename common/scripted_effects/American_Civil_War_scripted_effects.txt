USA_initial_events = {
	USA = {
		country_event = { id = amcivwar.311 hours = 8 } #MacArthur's Warning
		country_event = { id = amcivwar.300 days = 2 } #New England riots
		country_event = { id = amcivwar.310 days = 15 } #Nevada
		country_event = { id = amcivwar.312 days = 20 } #Deadline Running Out
	}
	JAP = {
		country_event = { id = japfor.225 days = 30 }
	}
}

CSA_initial_events = {
	CSA = {
		if = {
			limit = {
				USA = {
					NOT = {
						has_country_flag = USA_reed_was_president
						has_country_flag = USA_ACW_austerity_rejected
					}
				}
			}
			add_timed_idea = {
				idea = CSA_initial_troubles
				days = 60
			}
		}
		if = {
			limit = {
				USA = { has_country_flag = USA_reed_was_president }
			}
			add_timed_idea = {
				idea = CSA_righteous_nation
				days = 360
			}
		}
		hidden_effect = {
		if = {
			limit = { NOT = { has_global_flag = USA_CSA_existed } }
		}
		country_event = { id = csa.150 days = 6 } # Initialization event
		country_event = { id = amcivwar.32 days = 10 } # Revolutionary Military
		country_event = { id = amcivwar.44 days = 21 } # Revolutionary Staff Leader
		country_event = { id = amcivwar.45 days = 28 } # Leader of the People's Air Force
		country_event = { id = amcivwar.30 days = 40 random = 10 } # Dealing with the Rich
		country_event = { id = amcivwar.38 days = 70 random = 20 } # Revolutionary Propaganda
		country_event = { id = amcivwar.36 days = 35 } # Internal Conflicts
		country_event = { id = amcivwar.40 days = 130 random = 20 } # Protecting against Saboteurs
		country_event = { id = amcivwar.41 days = 160 random = 20 } # Red Terror
		}
	}
	set_global_flag = USA_CSA_existed
}

TEX_initial_events = {
	TEX = {
		if = {
			limit = {
				USA = { has_country_flag = USA_long_was_president }
			}
			add_timed_idea = {
				idea = TEX_righteous_nation
				days = 360
			}
		}
		hidden_effect = {
		if = {
			limit = { NOT = { has_global_flag = USA_TEX_existed } }
		}
		country_event = { id = unionstate.26 days = 5 } #Initial Events - Texas Rangers
		country_event = { id = unionstate.3002 days = 2 } #The Old Regulars
		country_event = { id = unionstate.3004 days = 10 } #Minneapolis Syndicalists Strike
		country_event = { id = amcivwar.54 days = 7 } # Longist Navy
		country_event = { id = amcivwar.50 days = 14 } # Chief of Staff
		country_event = { id = amcivwar.51 days = 21 } # Chief of Army
		country_event = { id = amcivwar.53 days = 28 } # Chief of Air Force
		country_event = { id = amcivwar.52 days = 35 } # Chief of Navy
		country_event = { id = amcivwar.48 days = 60 random = 20 } # Pelley Pledge of Alliegence
		}
	}
	set_global_flag = USA_TEX_existed
}

CAL_initial_events = {
	hidden_effect = {
	if = {
			limit = { NOT = { has_global_flag = USA_CAL_existed } }
	}
	CAL = {
		country_event = { id = pacificstates.150 days = 1 } #Initial Events
		country_event = { id = amcivwar.77 days = 7 } #Chief of Staff
		country_event = { id = amcivwar.78 days = 14 } #Chief of Army
		country_event = { id = amcivwar.80 days = 21 } #Chief of Air Force
		country_event = { id = amcivwar.79 days = 28 } #Chief of Navy
	}
	set_global_flag = USA_CAL_existed
	}
}

COR_initial_events = {
	COR = {
		if = {
			limit = {
				USA = { has_global_flag = USA_murray_is_president }
			}
			add_timed_idea = {
				idea = COR_righteous_nation
				days = 360
			}
		}
	hidden_effect = {
	if = {
			limit = { NOT = { has_global_flag = USA_COR_existed } }
	}
	COR = {
			country_event = { id = amcivwar.800 days = 7 } #Chief of Staff
			country_event = { id = amcivwar.801 days = 14 } #Chief of Army
			country_event = { id = amcivwar.802 days = 21 } #Chief of Air Force
			country_event = { id = constate.150 days = 21 } #Southern Governors
	}
	set_global_flag = USA_COR_existed
	}
}

WCC_initial_events = {
	hidden_effect = {
	if = {
			limit = { NOT = { has_global_flag = USA_WCC_existed } }
	}
	WCC = {
		country_event = { id = amcivwar.900 days = 10 } #Init
		country_event = { id = amcivwar.901 days = 60 } #Recruitment
	}
	set_global_flag = USA_WCC_existed
	}
}

USA_release_CSA = {
	if = {
			limit = { NOT = { has_global_flag = USA_CSA_existed } }
	}
	hidden_effect = {
		CSA = {
			add_state_core = 395
			add_state_core = 393
			add_state_core = 396
			add_state_core = 261
			add_state_core = 358
			add_state_core = 359
			add_state_core = 360
			add_state_core = 929
			add_state_core = 1098
			add_state_core = 1119
			set_cosmetic_tag = CSA_ACW
			
			set_country_flag = {
			flag = ACW_klan_resistance
			value = 11
			}
			set_country_flag = {
			flag = ACW_black_legion_resistance
			value = 17
			}
			set_country_flag = {
			flag = ACW_fed_resistance
			value = 9
			}
			set_country_flag = {
			flag = ACW_minutemen_resistance
			value = 6
			}
		}

		USA = {
			if = { 
			limit = { has_idea = USA_syndicalist_strike_idea }
			remove_ideas = USA_syndicalist_strike_idea
			}
			CSA = { transfer_technology = yes }
			if = {
				limit = {
					OR = {
						country_exists = TEX
						has_country_flag = USA_ACW_austerity_rejected
					}
				}
				set_cosmetic_tag = USA_ACW
				country_event = kr.political.208

				# idea changes
				if = {
					limit = { has_idea = USA_black_monday }
					remove_ideas = USA_black_monday
				}
				if = {
					limit = { has_idea = USA_black_monday2 }
					remove_ideas = USA_black_monday2
				}
				if = {
					limit = { has_idea = USA_new_year_strike_idea }
					remove_ideas = USA_new_year_strike_idea
				}
				if = {
					limit = { has_idea = USA_political_crisis }
					remove_ideas = USA_political_crisis
				}
				if = {
					limit = { has_idea = isolation }
					add_ideas = civilian_economy
				}
				if = {
					limit = { has_idea = USA_syndicalist_strike_idea }
					add_ideas = civilian_economy
				}
			}
			if = {
				limit = { has_country_flag = USA_assassinated_long }
				CSA = {
					add_political_power = 100
					add_manpower = 75000
				}
			}
			if = {
				limit = { has_country_flag = USA_ACW_austerity_rejected }
				CSA = {
					add_political_power = 100
					add_manpower = 150000
					add_war_support = 0.10
					add_stability = 0.15
				}
			}
		}

		every_owned_state = {
			limit = { is_core_of = CSA }
			CSA = { transfer_state = PREV }
		}

		every_state = {
			limit = {
				is_core_of = USA
				NOT = { is_core_of = CSA }
				NOT = { is_claimed_by = CSA }
			}
			add_claim_by = CSA
		}

		set_country_flag = Jack_Reed_dead
		set_country_flag = Eugene_Dennis_dead
		set_country_flag = Paul_Mattick_dead
		set_country_flag = John_Abt_dead

		remove_unit_leader = 100 #Smedley Butler
		remove_unit_leader = 61 #Herbert Holdridge

		CSA = {
			load_oob = "USA_civil_war_csa_army"
			add_ideas = {
				CSA_militia_idea
				extensive_conscription
			}
			if = { ##BONUSES
			limit = {
			USA = {
			has_country_flag = {
				flag = SPA_strength
				value < 1
				}
			}
			}
			add_war_support = -0.03
			add_stability = -0.3
			}
			if = { ##BONUSES
			limit = {
			USA = {
			has_country_flag = {
				flag = SPA_strength
				value = 1
				}
			}
			}
			add_manpower = 5000
			add_war_support = 0.05
			add_stability = -0.25
			}
			if = {
			limit = {
			USA = {
			has_country_flag = {
				flag = SPA_strength
				value = 2
				}
			}
			}
			add_manpower = 7500
			add_command_power = 5
			add_stability = -0.2
			add_war_support = 0.08
			}
			if = {
			limit = {
			USA = {
			has_country_flag = {
				flag = SPA_strength
				value = 3
				}
				}
			}
			add_manpower = 10000
			add_war_support = 0.1
			add_stability = -0.15
			add_command_power = 10
			}
			if = {
			limit = {
			USA = {
			has_country_flag = {
				flag = SPA_strength
				value = 4
				}
				}
			}
			add_manpower = 12500
			add_war_support = 0.12
			add_stability = -0.1
			add_command_power = 15
			}
			if = {
			limit = {
			USA = {
			has_country_flag = {
				flag = SPA_strength
				value = 5
				}
				}
			}
			add_manpower = 15000
			add_stability = -0.05
			add_war_support = 0.15
			add_command_power = 20
			}
			if = {
			limit = {
			USA = {
			has_country_flag = {
				flag = SPA_strength
				value = 6
				}
				}
			}
			add_manpower = 17500
			add_war_support = 0.18
			add_command_power = 20
			}
			if = {
			limit = {
			USA = {
			has_country_flag = {
				flag = SPA_strength
				value > 6
				}
				}
			}
			add_manpower = 20000
			add_war_support = 0.2
			add_command_power = 25
			}
			if = {
				limit = { has_template = "National Guard Division" }
				delete_unit_template_and_units = { division_template = "National Guard Division" }
			}
			if = {
				limit = { has_template = "Infantry Division" }
				delete_unit_template_and_units = { division_template = "Infantry Division" }
			}
			if = {
				limit = { has_template = "Cavalry Division" }
				delete_unit_template_and_units = { division_template = "Cavalry Division" }
			}
			if = {
				limit = { has_template = "Armored Division" }
				delete_unit_template_and_units = { division_template = "Armored Division" }
			}
			if = {
				limit = { has_template = "Heavy Armor Division" }
				delete_unit_template_and_units = { division_template = "Heavy Armor Division" }
			}
			if = {
				limit = { has_template = "Marine Division" }
				delete_unit_template_and_units = { division_template = "Marine Division" }
			}
			if = {
				limit = { has_template = "Panama Canal Garrison" }
				delete_unit_template_and_units = { division_template = "Panama Canal Garrison" }
			}
			if = {
				limit = { has_template = "Motorized Division" }
				delete_unit_template_and_units = { division_template = "Motorized Division" }
			}
			if = {
				limit = { has_template = "Loyalist Militia" }
				delete_unit_template_and_units = { division_template = "Loyalist Militia" }
			}
			if = {
				limit = { has_template = "Mounted Loyalists" }
				delete_unit_template_and_units = { division_template = "Mounted Loyalists" }
			}
			if = {
				limit = { has_template = "Loyalist Garrison" }
				delete_unit_template_and_units = { division_template = "Loyalist Garrison" }
			}
			if = {
				limit = { has_template = "Loyalist Motorized Guard" }
				delete_unit_template_and_units = { division_template = "Loyalist Motorized Guard" }
			}
			if = {
				limit = { has_template = "Army Loyalists" }
				delete_unit_template_and_units = { division_template = "Army Loyalists" }
			}
			if = {
				limit = { has_template = "USA Resistance" }
				delete_unit_template_and_units = { division_template = "USA Resistance" }
			}
		}
	}
}

USA_release_TEX = {
	if = {
			limit = { NOT = { has_global_flag = USA_TEX_existed } }
	}
	hidden_effect = {
	transfer_ship = { prefer_name = "USS Iowa" type = SH_battleship target = TEX }
		transfer_ship = { prefer_name = "USS Texas" type = SH_battleship target = TEX }
		transfer_ship = { prefer_name = "USS Massachusetts" type = SH_battleship target = TEX }
		transfer_ship = { prefer_name = "USS Ohio" type = SH_battleship target = TEX }
		transfer_ship = { prefer_name = "USS Nebraska" type = SH_battleship target = TEX }
		transfer_ship = { prefer_name = "USS Yorktown" type = heavy_carrier target = TEX }
		transfer_ship = { prefer_name = "USS Constitution" type = battleship target = TEX }
		transfer_ship = { prefer_name = "USS Ranger" type = battleship target = TEX }
		transfer_ship = { prefer_name = "USS United States" type = battleship target = TEX }
		transfer_ship = { prefer_name = "USS Huntington" type = heavy_cruiser target = TEX }
		transfer_ship = { prefer_name = "USS San Diego" type = heavy_cruiser target = TEX }
		transfer_ship = { prefer_name = "USS Pueblo" type = heavy_cruiser target = TEX }
		transfer_ship = { prefer_name = "USS Frederick" type = heavy_cruiser target = TEX }
		transfer_ship = { prefer_name = "USS Huron" type = heavy_cruiser target = TEX }
		TEX = {
			add_state_core = 371
			add_state_core = 372
			add_state_core = 374
			add_state_core = 375
			add_state_core = 381
			add_state_core = 383
			add_state_core = 384
			add_state_core = 388
			add_state_core = 389
			add_state_core = 390
			add_state_core = 391
			add_state_core = 392
			add_state_core = 394
			add_state_core = 833
			add_state_core = 1096
			add_state_core = 1107
			add_state_core = 1109
			set_cosmetic_tag = TEX_ACW
			
			set_country_flag = {
			flag = ACW_socialist_resistance
			value = 9
			}
			set_country_flag = {
			flag = ACW_klan_resistance
			value = 12
			}
			set_country_flag = {
			flag = ACW_black_legion_resistance
			value = 11
			}
			set_country_flag = {
			flag = ACW_fed_resistance
			value = 8
			}
		}

		USA = {
			TEX = { transfer_technology = yes }
			if = {
				limit = {
					OR = {
						country_exists = CSA
						has_country_flag = USA_ACW_compromise_rejected
					}
				}
				set_cosmetic_tag = USA_ACW
				country_event = kr.political.208

				# idea changes
				if = {
					limit = { has_idea = USA_black_monday }
					remove_ideas = USA_black_monday
				}
				if = {
					limit = { has_idea = USA_black_monday2 }
					remove_ideas = USA_black_monday2
				}
				if = {
					limit = { has_idea = USA_new_year_strike_idea }
					remove_ideas = USA_new_year_strike_idea
				}
				if = {
					limit = { has_idea = USA_political_crisis }
					remove_ideas = USA_political_crisis
				}
				if = {
					limit = { has_idea = isolation }
					add_ideas = civilian_economy
				}
			}
			if = {
				limit = { has_country_flag = USA_assassinated_reed }
				TEX = {
					add_political_power = 100
					add_manpower = 75000
				}
			}
			if = {
				limit = { has_country_flag = USA_ACW_compromise_rejected }
				TEX = {
					add_political_power = 100
					add_manpower = 150000
					add_war_support = 0.10
					add_stability = 0.15
				}
			}
		}

		every_owned_state = {
			limit = { is_core_of = TEX }
			TEX = { transfer_state = PREV }
		}

		every_state = {
			limit = {
				is_core_of = USA
				NOT = { is_core_of = TEX }
				NOT = { is_claimed_by = TEX }
			}
			add_claim_by = TEX
		}

		every_navy_leader = {
			limit = { has_id = 63 } #William Halsey Jr.
			set_nationality = TEX
		}

		set_country_flag = Huey_Long_dead
		set_country_flag = Charles_Coughlin_dead
		set_country_flag = Gerald_K_Smith_dead
		set_country_flag = Joseph_'Lightning_Joe'_Lawton_Collins_dead

		TEX = {
			load_oob = "USA_civil_war_aus_army"
			add_equipment_to_stockpile = {
			type = infantry_equipment_1
			amount = 5500
			producer = USA
			}
			add_equipment_to_stockpile = { 
			type = fighter_equipment
			amount = 260
			producer = TEX
			}
			add_equipment_to_stockpile = { 
			type = bomber_equipment
			amount = 120
			producer = TEX
			}
			add_ideas = {
				extensive_conscription
			}
			if = { ##BONUSES
			limit = {
			USA = {
			has_country_flag = {
				flag = AFP_strength
				value = 1
				}
			}
			}
			add_manpower = 5000
			add_war_support = 0.05
			}
			if = {
			limit = {
			USA = {
			has_country_flag = {
				flag = AFP_strength
				value = 2
				}
			}
			}
			add_manpower = 7500
			add_command_power = 5
			add_war_support = 0.08
			}
			if = {
			limit = {
			USA = {
			has_country_flag = {
				flag = AFP_strength
				value = 3
				}
				}
			}
			add_manpower = 10000
			add_war_support = 0.1
			add_command_power = 10
			}
			if = {
			limit = {
			USA = {
			has_country_flag = {
				flag = AFP_strength
				value = 4
				}
				}
			}
			add_manpower = 12500
			add_war_support = 0.12
			add_command_power = 15
			}
			if = {
			limit = {
			USA = {
			has_country_flag = {
				flag = AFP_strength
				value = 5
				}
				}
			}
			add_manpower = 15000
			add_war_support = 0.15
			add_stability = 0.05
			add_command_power = 20
			}
			if = {
			limit = {
			USA = {
			has_country_flag = {
				flag = AFP_strength
				value = 6
				}
				}
			}
			add_manpower = 17500
			add_war_support = 0.18
			add_stability = 0.1
			add_command_power = 20
			}
			if = {
			limit = {
			USA = {
			has_country_flag = {
				flag = AFP_strength
				value > 6
				}
				}
			}
			add_manpower = 20000
			add_war_support = 0.2
			add_command_power = 25
			add_stability = 0.15
			}
			if = {
				limit = { has_template = "National Guard Division" }
				delete_unit_template_and_units = { division_template = "National Guard Division" }
			}
			if = {
				limit = { has_template = "Infantry Division" }
				delete_unit_template_and_units = { division_template = "Infantry Division" }
			}
			if = {
				limit = { has_template = "Cavalry Division" }
				delete_unit_template_and_units = { division_template = "Cavalry Division" }
			}
			if = {
				limit = { has_template = "Armored Division" }
				delete_unit_template_and_units = { division_template = "Armored Division" }
			}
			if = {
				limit = { has_template = "Heavy Armor Division" }
				delete_unit_template_and_units = { division_template = "Heavy Armor Division" }
			}
			if = {
				limit = { has_template = "Marine Division" }
				delete_unit_template_and_units = { division_template = "Marine Division" }
			}
			if = {
				limit = { has_template = "Panama Canal Garrison" }
				delete_unit_template_and_units = { division_template = "Panama Canal Garrison" }
			}
			if = {
				limit = { has_template = "Motorized Division" }
				delete_unit_template_and_units = { division_template = "Motorized Division" }
			}
			if = {
				limit = { has_template = "Loyalist Militia" }
				delete_unit_template_and_units = { division_template = "Loyalist Militia" }
			}
			if = {
				limit = { has_template = "Mounted Loyalists" }
				delete_unit_template_and_units = { division_template = "Mounted Loyalists" }
			}
			if = {
				limit = { has_template = "Loyalist Garrison" }
				delete_unit_template_and_units = { division_template = "Loyalist Garrison" }
			}
			if = {
				limit = { has_template = "Loyalist Motorized Guard" }
				delete_unit_template_and_units = { division_template = "Loyalist Motorized Guard" }
			}
			if = {
				limit = { has_template = "Army Loyalists" }
				delete_unit_template_and_units = { division_template = "Army Loyalists" }
			}
			if = {
				limit = { has_template = "USA Resistance" }
				delete_unit_template_and_units = { division_template = "USA Resistance" }
			}
		}
	}
}

USA_release_COR = {
	if = {
			limit = { NOT = { has_global_flag = USA_COR_existed } }
	}
	hidden_effect = {
		transfer_ship = { prefer_name = "USS Idaho" type = SH_battleship target = COR }
		transfer_ship = { prefer_name = "USS Mississippi" type = SH_battleship target = COR }
		transfer_ship = { prefer_name = "USS Tennessee" type = SH_battleship target = COR }
		transfer_ship = { prefer_name = "USS California" type = SH_battleship target = COR }
		transfer_ship = { prefer_name = "USS Washington" type = SH_battleship target = COR }
		transfer_ship = { prefer_name = "USS West Virginia" type = SH_battleship target = COR }
		transfer_ship = { prefer_name = "USS North Carolina" type = SH_battleship target = COR }
		transfer_ship = { prefer_name = "USS Moffett" type = destroyer target = COR }
		transfer_ship = { prefer_name = "USS Balch" type = destroyer target = COR }
		transfer_ship = { prefer_name = "USS Sigourney" type = destroyer target = COR }
		transfer_ship = { prefer_name = "USS Gregory" type = destroyer target = COR }
		transfer_ship = { prefer_name = "USS Stringham" type = destroyer target = COR }
		transfer_ship = { prefer_name = "USS Dyer" type = destroyer target = COR }

		COR = {
			add_state_core = 363
			add_state_core = 364
			add_state_core = 365
			add_state_core = 366
			add_state_core = 367
			add_state_core = 368
			add_state_core = 369
			add_state_core = 370
			add_state_core = 373
			add_state_core = 1097
			add_state_core = 1099
			add_state_core = 1100
			add_state_core = 1101
			add_state_core = 1102
			add_state_core = 1106
			add_state_core = 1113
			add_state_core = 1114
			add_state_core = 1115
			add_state_core = 1116
			add_state_core = 1114
			add_state_core = 1117
			add_state_core = 1118

			set_cosmetic_tag = COR_ACW
			
			set_country_flag = {
			flag = ACW_socialist_resistance
			value = 18
			}
			set_country_flag = {
			flag = ACW_minutemen_resistance
			value = 14
			}
			set_country_flag = {
			flag = ACW_fed_resistance
			value = 11
			}
			set_country_flag = {
			flag = ACW_crime_resistance
			value = 6
			}
			set_country_flag = {
			flag = ACW_black_nationalist_resistance
			value = 5
			}
		}
		
		USA = {
			if = {
			limit = { has_idea = USA_klan_activity_idea }
			remove_ideas = USA_klan_activity_idea
			}
			set_country_flag = John_Elliott_Rankin_dead
			COR = { transfer_technology = yes }
			load_oob = "USA_civil_war_reenforcments"
			if = {
				limit = {
					OR = {
						country_exists = CSA
						has_country_flag = USA_ACW_compromise_rejected
					}
				}
				set_cosmetic_tag = USA_ACW
				country_event = kr.political.208

				# idea changes
				if = {
					limit = { has_idea = USA_black_monday }
					remove_ideas = USA_black_monday
				}
				if = {
					limit = { has_idea = USA_black_monday2 }
					remove_ideas = USA_black_monday2
				}
				if = {
					limit = { has_idea = USA_new_year_strike_idea }
					remove_ideas = USA_new_year_strike_idea
				}
				if = {
					limit = { has_idea = USA_political_crisis }
					remove_ideas = USA_political_crisis
				}
				if = {
					limit = { has_idea = isolation }
					add_ideas = civilian_economy
				}
			}
			if = {
				limit = { has_country_flag = USA_ACW_compromise_rejected }
				COR = {
					add_political_power = 100
					add_manpower = 150000
					add_war_support = 0.10
					add_stability = 0.15
				}
			}
		}

		every_owned_state = {
			limit = { is_core_of = COR }
			COR = { transfer_state = PREV }
		}

		every_state = {
			limit = {
				is_core_of = USA
				NOT = { is_core_of = COR }
				NOT = { is_claimed_by = COR }
			}
			add_claim_by = COR
		}

		remove_unit_leader = 992 #George S. Patton
		remove_unit_leader = 990 #George Van Horn Moseley

		set_country_flag = John_Sparkman_dead
		set_country_flag = James_Eastland_dead
		set_country_flag = Richard_Russell_Jr_dead
		set_country_flag = Strom_Thurmond_dead
		set_country_flag = Robert_Rice_Reynolds_dead
		set_country_flag = Strom_Thurmond_dead
		set_country_flag = John_Elliott_Rankin_dead
		set_country_flag = Henry_Ford_dead
		set_country_flag = Joseph_T_McNarney_dead
		set_country_flag = Nathan_Bedford_Forrest_III_dead
		
		every_navy_leader = {
			limit = { has_id = 63 } #William Halsey Jr.
			set_nationality = COR
		}

		COR = {
			load_oob = "USA_civil_war_car_army"
			add_equipment_to_stockpile = {
			type = infantry_equipment_1
			amount = 3500
			producer = USA
			}
			add_equipment_to_stockpile = { 
			type = fighter_equipment
			amount = 250
			producer = COR
			}
			add_equipment_to_stockpile = { 
			type = bomber_equipment
			amount = 100
			producer = COR
			}
			add_ideas = {
				extensive_conscription
			}
			if = { ##BONUSES
			limit = {
			has_country_flag = {
				flag = USA_odp_strength
				value = 1
				}
			}
			add_manpower = 5000
			add_war_support = 0.05
			}
			if = {
			limit = {
			has_country_flag = {
				flag = USA_odp_strength
				value = 2
				}
			}
			add_manpower = 7500
			add_command_power = 5
			add_war_support = 0.08
			}
			if = {
			limit = {
			has_country_flag = {
				flag = USA_odp_strength
				value = 3
				}
			}
			add_manpower = 10000
			add_war_support = 0.1
			add_command_power = 10
			}
			if = {
			limit = {
			has_country_flag = {
				flag = USA_odp_strength
				value = 4
				}
			}
			add_manpower = 12500
			add_war_support = 0.12
			add_command_power = 15
			}
			if = {
			limit = {
			has_country_flag = {
				flag = USA_odp_strength
				value = 5
				}
			}
			add_manpower = 15000
			add_war_support = 0.15
			add_command_power = 20
			}
			if = {
			limit = {
			has_country_flag = {
				flag = USA_odp_strength
				value = 6
				}
			}
			add_manpower = 17500
			add_war_support = 0.18
			add_command_power = 20
			}
			if = {
			limit = {
			has_country_flag = {
				flag = USA_odp_strength
				value > 6
				}
			}
			add_manpower = 20000
			add_war_support = 0.2
			add_command_power = 25
			}
			if = {
				limit = { has_template = "National Guard Division" }
				delete_unit_template_and_units = { division_template = "National Guard Division" }
			}
			if = {
				limit = { has_template = "Infantry Division" }
				delete_unit_template_and_units = { division_template = "Infantry Division" }
			}
			if = {
				limit = { has_template = "Cavalry Division" }
				delete_unit_template_and_units = { division_template = "Cavalry Division" }
			}
			if = {
				limit = { has_template = "Armored Division" }
				delete_unit_template_and_units = { division_template = "Armored Division" }
			}
			if = {
				limit = { has_template = "Heavy Armor Division" }
				delete_unit_template_and_units = { division_template = "Heavy Armor Division" }
			}
			if = {
				limit = { has_template = "Marine Division" }
				delete_unit_template_and_units = { division_template = "Marine Division" }
			}
			if = {
				limit = { has_template = "Panama Canal Garrison" }
				delete_unit_template_and_units = { division_template = "Panama Canal Garrison" }
			}
			if = {
				limit = { has_template = "Motorized Division" }
				delete_unit_template_and_units = { division_template = "Motorized Division" }
			}
			if = {
				limit = { has_template = "Loyalist Militia" }
				delete_unit_template_and_units = { division_template = "Loyalist Militia" }
			}
			if = {
				limit = { has_template = "Mounted Loyalists" }
				delete_unit_template_and_units = { division_template = "Mounted Loyalists" }
			}
			if = {
				limit = { has_template = "Loyalist Garrison" }
				delete_unit_template_and_units = { division_template = "Loyalist Garrison" }
			}
			if = {
				limit = { has_template = "Loyalist Motorized Guard" }
				delete_unit_template_and_units = { division_template = "Loyalist Motorized Guard" }
			}
			if = {
				limit = { has_template = "Army Loyalists" }
				delete_unit_template_and_units = { division_template = "Army Loyalists" }
			}
			if = {
				limit = { has_template = "USA Resistance" }
				delete_unit_template_and_units = { division_template = "USA Resistance" }
			}
		}
	}
}

USA_release_WCC = {
	if = {
			limit = { NOT = { has_global_flag = USA_WCC_existed } }
	}
	hidden_effect = {
		WCC = {
			add_state_core = 376
			add_state_core = 377
			add_state_core = 379
			add_state_core = 380
			add_state_core = 382
			add_state_core = 387
			add_state_core = 832
			add_state_core = 834
			add_state_core = 1103
			add_state_core = 1110
			add_state_core = 1112
			set_cosmetic_tag = WCC_ACW
			
			set_country_flag = {
			flag = ACW_klan_resistance
			value = 8
			}
			set_country_flag = {
			flag = ACW_minutemen_resistance
			value = 6
			}
			add_ideas = {
				WCC_Dwight_D_Eisenhower_hog_ade
				WCC_Patrick_J_Hurley_for_ade
				WCC_James_Garesche_Ord_eco_ade
				WCC_Leonard_T_Gerow_sec_ade
				WCC_Omar_Nelson_Bradley_cos
				WCC_Dwight_D_Eisenhower_carm
			}
		}

		USA = {
			if = {
			limit = { has_idea = USA_great_depression }
			remove_ideas = USA_great_depression
				}
			}
			if = {
			limit = { has_idea = USA_political_crisis }
			remove_ideas = USA_political_crisis
				}
			WCC = { transfer_technology = yes }
			if = {
				set_cosmetic_tag = USA_ACW
				country_event = kr.political.208

				# idea changes
				if = {
					limit = { has_idea = USA_black_monday }
					remove_ideas = USA_black_monday
				}
				if = {
					limit = { has_idea = USA_black_monday2 }
					remove_ideas = USA_black_monday2
				}
				if = {
					limit = { has_idea = USA_new_year_strike_idea }
					remove_ideas = USA_new_year_strike_idea
				}
				if = {
					limit = { has_idea = USA_political_crisis }
					remove_ideas = USA_political_crisis
				}
				if = {
					limit = { has_idea = isolation }
					add_ideas = civilian_economy
				}
			}
			if = {
				limit = { has_country_flag = USA_landon_was_president }
				WCC = {
					add_political_power = 100
					add_manpower = 75000
				}
			}
			create_corps_commander = {#More Unit Leaders to deal with WCC staff
				name = "Hugh S. Johnson"
				portrait_path = "gfx/leaders/USA/Portrait_Hugh_S_Johnson.tga"
				traits = { 
					politically_connected 
					trait_cautious 
				}
				skill = 2
				attack_skill = 1
				defense_skill = 2
				planning_skill = 2
				logistics_skill = 1
			}
			create_corps_commander = {#More Unit Leaders to deal with WCC staff
				name = "John R. Hodge"
				portrait_path = "gfx/leaders/USA/Portrait_john_r_hodge.tga"
				traits = { 
					air_commander 
					naval_invader 
				}
				skill = 2
				attack_skill = 3
				defense_skill = 1
				planning_skill = 2
				logistics_skill = 1
			}
		
		remove_unit_leader = 88 #Bradley
		remove_unit_leader = 90 #Ike
		remove_unit_leader = 68 #Keyes
		remove_unit_leader = 96 #Ord
		remove_unit_leader = 98 #Harding
		remove_unit_leader = 82 #Griswold
		remove_unit_leader = 74 #Gerow

		set_country_flag = Martin_Dies_Jr_dead
		set_country_flag = Walter_Bedell_'Beetle'_Smith_dead
		set_country_flag = Joseph_Raymond_McCarthy_dead
		set_country_flag = Omar_Nelson_Bradley_dead
		set_country_flag = Dwight_D_Eisenhower_dead
		set_country_flag = John_Sparkman_dead
		
		every_owned_state = {
			limit = { is_core_of = WCC }
			WCC = { transfer_state = PREV }
		}

		every_state = {
			limit = {
				is_core_of = PSA
				NOT = { is_core_of = WCC }
				NOT = { is_claimed_by = WCC }
			}
			add_claim_by = WCC
		}
		
		every_state = {
			limit = {
				is_core_of = TEX
				NOT = { is_core_of = WCC }
				NOT = { is_claimed_by = WCC }
			}
			add_claim_by = WCC
		}
		
		every_state = {
			limit = {
				is_core_of = CSA
				NOT = { is_core_of = WCC }
				NOT = { is_claimed_by = WCC }
			}
			add_claim_by = WCC
		}
		
		every_state = {
			limit = {
				is_core_of = COR
				NOT = { is_core_of = WCC }
				NOT = { is_claimed_by = WCC }
			}
			add_claim_by = WCC
		}

		USA = {
			puppet = WCC
		}
		WCC = {
			set_politics = {
				ruling_party = authoritarian_democrat
				last_election = "1936.11.08"
				election_frequency = 48
				elections_allowed = no
			}

			set_popularities = {
				totalist = 0
				syndicalist = 0
				radical_socialist = 0
				social_democrat = 5
				social_liberal = 10
				market_liberal = 20
				social_conservative = 25
				authoritarian_democrat = 20
				paternal_autocrat = 15
				national_populist = 5
			}
		}

		WCC = {
			add_equipment_to_stockpile = { 
			type = fighter_equipment
			amount = 250
			producer = TEX
			}
			add_equipment_to_stockpile = { 
			type = bomber_equipment
			amount = 120
			producer = TEX
			}
			load_oob = "WCC"
			add_ideas = {
				extensive_conscription
			}
			if = {
			limit = { 
			has_country_flag = WCC_new_mexico
			}
			add_state_core = 376
			}
		}
	}
}

USA_release_CAL = {
	if = {
			limit = { NOT = { has_global_flag = USA_CAL_existed } }
	}
	hidden_effect = {
		set_global_flag = ACW_pacific_states_revolted

		CAL = {
			add_state_core = 829
			add_state_core = 798
			add_state_core = 797
			add_state_core = 378
			add_state_core = 385
			add_state_core = 386
			add_state_core = 1111
			set_cosmetic_tag = CAL_ACW
			
			set_country_flag = {
			flag = ACW_klan_resistance
			value = 11
			}
			set_country_flag = {
			flag = ACW_socialist_resistance
			value = 9
			}
		}

		USA = {
			CAL = { transfer_technology = yes }
		}

		every_owned_state = {
			limit = { is_core_of = CAL }
			CAL = { transfer_state = PREV }
		}

		every_state = {
			limit = {
				is_core_of = USA
				NOT = { is_core_of = CAL }
				NOT = { is_claimed_by = CAL }
			}
			add_claim_by = CAL
		}

		remove_unit_leader = 84 #Walter Krueger
		remove_unit_leader = 76 #Leslie McNair
		remove_unit_leader = 62 #Arnold
		remove_unit_leader = 60 #George Marshall
		remove_unit_leader = 86 #George Marshall

		set_country_flag = Glen_H_Taylor_dead
		set_country_flag = Henry_Wallace_dead
		set_country_flag = Philip_La_Follette_dead
		set_country_flag = Adolf_Augustus_Berle_Jr_dead
		set_country_flag = Alger_Hiss_dead
		set_country_flag = George_Catlett_Marshall_Jr_dead
		set_country_flag = Hugh_Simons_Gibson_dead
		set_country_flag = Ralph_Johnson_Bunche_dead
		set_country_flag = Ellard_A_Walsh_dead
		set_country_flag = George_Henry_Dern_dead
		set_country_flag = Harry_Lloyd_Hopkins_dead
		set_country_flag = Hjalmar_Petersen_dead
		set_country_flag = Jesse_Holman_Jones_dead
		set_country_flag = Konrad_Knute_Solberg_dead
		set_country_flag = Harold_LeClair_Ickes_dead
		set_country_flag = Francis_Beverley_Biddle_dead
		set_country_flag = Elmer_Austin_Benson_dead
		set_country_flag = Bronson_Murray_Cutting_dead
		set_country_flag = Henry_Martin_Arens_dead
		set_country_flag = Magnus_Johnson_dead
		set_country_flag = Charles_L_McNary_dead
		set_country_flag = Earl_Warren_dead
		set_country_flag = John_Foster_Dulles_dead
		set_country_flag = Charles_Evans_Hughes_Sr_dead
		set_country_flag = Chester_William_Nimitz_Sr_dead
		set_country_flag = John_Lesesne_DeWitt_dead
		set_country_flag = William_Randolph_Hearst_Sr_dead
		set_country_flag = Alexander_Vandegrift_dead
		set_country_flag = James_Harold_Doolittle_dead

		CAL = {
			load_oob = "USA_civil_war_psa_army"
			add_ideas = {
				extensive_conscription
			}
		}

		transfer_ship = { prefer_name = "USS Omaha" type = light_cruiser target = CAL }
		transfer_ship = { prefer_name = "USS Richmond" type = light_cruiser target = CAL }
		transfer_ship = { prefer_name = "USS Concord" type = light_cruiser target = CAL }
		transfer_ship = { prefer_name = "USS Trenton" type = light_cruiser target = CAL }
		transfer_ship = { prefer_name = "USS Marblehead" type = light_cruiser target = CAL }
		transfer_ship = { prefer_name = "USS Memphis" type = light_cruiser target = CAL }
		transfer_ship = { prefer_name = "USS Hunt" type = destroyer target = CAL }
		transfer_ship = { prefer_name = "USS Welborn C. Wood" type = destroyer target = CAL }
		transfer_ship = { prefer_name = "USS George E. Badger" type = destroyer target = CAL }
		transfer_ship = { prefer_name = "USS Branch" type = destroyer target = CAL }
		transfer_ship = { prefer_name = "USS Herndon" type = destroyer target = CAL }
		transfer_ship = { prefer_name = "USS Dallas" type = destroyer target = CAL }
		transfer_ship = { prefer_name = "USS Perry" type = destroyer target = CAL }
		transfer_ship = { prefer_name = "USS Decatur" type = destroyer target = CAL }
		transfer_ship = { prefer_name = "USS Hulbert" type = destroyer target = CAL }
		transfer_ship = { prefer_name = "USS Noa" type = destroyer target = CAL }
		transfer_ship = { prefer_name = "USS William B. Preston" type = destroyer target = CAL }
		transfer_ship = { prefer_name = "USS Porter" type = destroyer target = CAL }
		transfer_ship = { prefer_name = "USS Selfridge" type = destroyer target = CAL }
		transfer_ship = { prefer_name = "USS McDougal" type = destroyer target = CAL }
		transfer_ship = { prefer_name = "USS Winslow" type = destroyer target = CAL }
		transfer_ship = { prefer_name = "USS Phelps" type = destroyer target = CAL }
		transfer_ship = { prefer_name = "USS Clark" type = destroyer target = CAL }
		transfer_ship = { prefer_name = "USS Colhoun" type = destroyer target = CAL }
		transfer_ship = { prefer_name = "USS Stevens" type = destroyer target = CAL }
		transfer_ship = { prefer_name = "USS McKee" type = destroyer target = CAL }
		transfer_ship = { prefer_name = "USS Robinson" type = destroyer target = CAL }
		transfer_ship = { prefer_name = "USS Ringgold" type = destroyer target = CAL }
		transfer_ship = { prefer_name = "USS McKean" type = destroyer target = CAL }
		transfer_ship = { prefer_name = "USS Clemson" type = destroyer target = CAL }
		transfer_ship = { prefer_name = "USS Dahlgren" type = destroyer target = CAL }
		transfer_ship = { prefer_name = "USS Bonita" type = submarine target = CAL }
		transfer_ship = { prefer_name = "USS Narwhal" type = submarine target = CAL }
		transfer_ship = { prefer_name = "USS Nautilus" type = submarine target = CAL }
		transfer_ship = { prefer_name = "USS O6" type = submarine target = CAL }
		transfer_ship = { prefer_name = "USS O7" type = submarine target = CAL }
		transfer_ship = { prefer_name = "USS O8" type = submarine target = CAL }
		transfer_ship = { prefer_name = "USS O9" type = submarine target = CAL }
		transfer_ship = { prefer_name = "USS O10" type = submarine target = CAL }
		transfer_ship = { prefer_name = "USS R7" type = submarine target = CAL }
		transfer_ship = { prefer_name = "USS R8" type = submarine target = CAL }
		transfer_ship = { prefer_name = "USS R9" type = submarine target = CAL }
		transfer_ship = { prefer_name = "USS R10" type = submarine target = CAL }
		transfer_ship = { prefer_name = "USS R11" type = submarine target = CAL }
		transfer_ship = { prefer_name = "USS R12" type = submarine target = CAL }
		transfer_ship = { prefer_name = "USS S11" type = submarine target = CAL }
		transfer_ship = { prefer_name = "USS S12" type = submarine target = CAL }
		transfer_ship = { prefer_name = "USS S13" type = submarine target = CAL }
		transfer_ship = { prefer_name = "USS S14" type = submarine target = CAL }
		transfer_ship = { prefer_name = "USS S15" type = submarine target = CAL }
		transfer_ship = { prefer_name = "USS S16" type = submarine target = CAL }
		transfer_ship = { prefer_name = "USS S17" type = submarine target = CAL }
		transfer_ship = { prefer_name = "USS S18" type = submarine target = CAL }
		transfer_ship = { prefer_name = "USS S19" type = submarine target = CAL }
		transfer_ship = { prefer_name = "USS S20" type = submarine target = CAL }
		transfer_ship = { prefer_name = "USS Pike" type = submarine target = CAL }
		transfer_ship = { prefer_name = "USS Shark" type = submarine target = CAL }
		transfer_ship = { prefer_name = "USS Tarpon" type = submarine target = CAL }
	}
}

COR_release_BBR = {
	hidden_effect = {
		BBR = {
			add_state_core = 1113
			add_state_core = 1114
			add_state_core = 1115
			add_state_core = 1116
			add_state_core = 1117
			set_cosmetic_tag = BBR_ACW
			
			set_country_flag = {
			flag = ACW_klan_resistance
			value = 12
			}
			set_country_flag = {
			flag = ACW_black_legion_resistance
			value = 8
			}
		}

		COR = {
			BBR = { transfer_technology = yes }
		}

		every_owned_state = {
			limit = { is_owned_by = COR is_core_of = BBR }
			BBR = { transfer_state = PREV }
		}

		every_state = {
			limit = {
				is_core_of = COR
				NOT = { is_core_of = BBR }
				NOT = { is_claimed_by = BBR }
			}
			add_claim_by = BBR
		}

		BBR = {
			load_oob = "BBR"
			set_equipment_fraction = 0.9
			hidden_effect = {
			country_event = {
				id = bbr.1
				days = 2
				}
			}
			add_ideas = {
				extensive_conscription
				war_economy
				BBR_WEB_Du_Bois_hog_rso
				BBR_Theophilus_Lewis_for_rso
				BBR_Howard_Thurman_eco_rso
				BBR_Sterling_Allen_Brown_sec_rso
			}
		}
	}
}

USA_civil_war_begins = {
	hidden_effect = {
		USA = {
		remove_ideas = {
		USA_great_depression
		USA_great_depression_2
		USA_great_depression_3
		USA_great_depression_4
		USA_great_depression_garner_1
		USA_great_depression_garner_2
		USA_black_monday
		USA_black_monday2
		USA_austerity_garner
		USA_black_monday2_garner
		USA_great_depression_Norris_1
		USA_great_depression_Norris_2
					}
				}
		set_global_flag = USA_civil_war_begun_flag
		NIC = {
			country_event = {
				id = nic.41 days = 7
			}
		}

		every_state = {
			limit = {
				owner = { is_american_tag = yes }
				OR = {
					state = 364
					state = 365
					state = 369
					state = 370
					state = 377
					state = 382
					state = 383
					state = 391
					state = 833
				}
			}
			remove_building = { type = industrial_complex level = 1 }
			add_building_construction = { type = arms_factory level = 1 instant_build = yes }
		}
		every_state = {
			limit = {
				owner = { is_american_tag = yes }
				OR = {
					state = 359
					state = 361
					state = 362
					state = 363
					state = 366
					state = 371
					state = 372
					state = 374
					state = 392
					state = 393
				}
			}
			remove_building = { type = industrial_complex level = 2 }
			add_building_construction = { type = arms_factory level = 2 instant_build = yes }
		}
		every_state = {
			limit = {
				owner = { is_american_tag = yes }
				OR = {
					state = 367
					state = 368
					state = 395
					state = 798
				}
			}
			remove_building = { type = industrial_complex level = 3 }
			add_building_construction = { type = arms_factory level = 3 instant_build = yes }
		}
		every_state = {
			limit = {
				owner = { is_american_tag = yes }
				OR = {
					state = 360
					state = 373
					state = 797
					state = 929
					state = 930
				}
			}
			remove_building = { type = industrial_complex level = 4 }
			add_building_construction = { type = arms_factory level = 4 instant_build = yes }
		}
		every_state = {
			limit = {
				owner = { is_american_tag = yes }
				OR = {
					state = 261
					state = 375
					state = 394
					state = 396
				}
			}
			remove_building = { type = industrial_complex level = 5 }
			add_building_construction = { type = arms_factory level = 5 instant_build = yes }
		}
		378 = {
			if = {
				limit = { owner = { is_american_tag = yes } }
				remove_building = { type = industrial_complex level = 6 }
				add_building_construction = { type = arms_factory level = 6 instant_build = yes }
			}
		}
		829 = {
			if = {
				limit = { owner = { is_american_tag = yes } }
				remove_building = { type = industrial_complex level = 7 }
				add_building_construction = { type = arms_factory level = 7 instant_build = yes }
			}
		}

		#declarations of war
		if = {
			limit = { country_exists = CSA 	}
			CSA = { declare_war_on = { target = USA type = annex_everything	} }
			CSA = { declare_war_on = { target = WCC type = annex_everything	} }
		}
		if = {
			limit = { country_exists = CAL 	}
			CAL = { declare_war_on = { target = USA type = annex_everything	} }
			CAL = { declare_war_on = { target = WCC type = annex_everything	} }
			CAL = { declare_war_on = { target = COR type = annex_everything	} }
		}
		if = {
			limit = { country_exists = COR 	
			NOT = {
			has_country_flag = CAR_USA_TREATY
			}
			}
			COR = { declare_war_on = { target = USA type = annex_everything	} }
			COR = { declare_war_on = { target = WCC type = annex_everything	} }
		}
		if = {
			limit = { country_exists = TEX
			}
			TEX = { declare_war_on = { target = USA type = annex_everything	} }
			TEX = { declare_war_on = { target = WCC type = annex_everything	} }
		}
		if = {
			limit = {
				country_exists = CSA
				country_exists = TEX
				NOT = {
				has_global_flag = AUS_CSA_TREATY
				}
			}
			CSA = { declare_war_on = { target = TEX type = annex_everything	} }
		}
		if = {
			limit = {
				country_exists = COR
				country_exists = TEX
				country_exists = CSA
			}
			CSA = { declare_war_on = { target = COR type = annex_everything	} }
			TEX = { declare_war_on = { target = COR type = annex_everything	} }
		}
		if = {
			limit = {
				country_exists = COR
				country_exists = USA
				NOT = {
				has_country_flag = CAR_USA_TREATY
				}
			}
			CSA = { declare_war_on = { target = COR type = annex_everything	} }
			TEX = { declare_war_on = { target = COR type = annex_everything	} }
		}
		if = {
			limit = { country_exists = CAL 
			NOT = {
			has_country_flag = PSA_CSA_TREATY
				}
			}
			CSA = {
			declare_war_on = { target = CAL type = annex_everything	} 
			}
		}
		if = {
			limit = { 
			NOT = {
			has_global_flag = PSA_AUS_TREATY
				} 
			}
			TEX = {
			declare_war_on = { target = CAL type = annex_everything	} 
			}
		}
		if = {
			limit = { country_exists = CSA }
			CSA = {
				country_event = { id = amcivwar.313 days = 1 }
				country_event = { id = amcivwar.91 days = 90 }
				add_ideas = {
					war_economy
					amcivwar_idea
				}
				if = {
					limit = { USA = { has_country_flag = USA_ACW_austerity_rejected } }
					add_timed_idea = { idea = ACW_fired_up days = 180 }
				}
			}
		}
		if = {
			limit = { country_exists = TEX }
			TEX = {
				country_event = { id = amcivwar.92 days = 90 }
				add_ideas = {
					war_economy
					amcivwar_idea
				}
				if = {
					limit = { USA = { has_country_flag = USA_ACW_compromise_rejected } }
					add_timed_idea = { idea = ACW_fired_up days = 180 }
				}
			}
		}
		if = {
			limit = { country_exists = WCC }
			WCC = {
				add_ideas = {
					war_economy
					amcivwar_idea
				}
				if = {
					limit = { USA = { has_country_flag = USA_ACW_compromise_rejected } }
					add_timed_idea = { idea = ACW_fired_up days = 180 }
				}
			}
		}
		if = {
			limit = { country_exists = COR }
			COR = {
				add_ideas = {
					war_economy
					amcivwar_idea
				}
				if = {
					limit = { USA = { has_country_flag = USA_ACW_compromise_rejected } }
					add_timed_idea = { idea = ACW_fired_up days = 180 }
				}
			}
		}
		if = {
			limit = { country_exists = CAL }
			CAL = {
				country_event = { id = amcivwar.90 days = 90 }
				add_ideas = {
					war_economy
					amcivwar_idea
				}
			}
		}

		# remove USA cores in uncontrolled territory
		every_state = {
			limit = { is_core_of = USA }
			if = {
				limit = {
					OR = {
						is_controlled_by = CSA
						is_controlled_by = TEX
						is_controlled_by = CAL
					}
				}
				remove_core_of = USA
				add_claim_by = USA
			}
		}

		USA = {
			country_event = { id = amcivwar.93 days = 90 }
			add_ideas = {
				war_economy
				amcivwar_idea
			}
		}

		# remove guarantees
		if = {
			limit = { GUA = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = GUA relation = guarantee active = no }
		}
		if = {
			limit = { ELS = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = ELS relation = guarantee active = no }
		}
		if = {
			limit = { HON = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = HON relation = guarantee active = no }
		}
		if = {
			limit = { COS = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = COS relation = guarantee active = no }
		}
		if = {
			limit = { "PAN" = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = "PAN" relation = guarantee active = no }
		}
		if = {
			limit = { LEC = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = LEC relation = guarantee active = no }
		}
		if = {
			limit = { HAI = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = HAI relation = guarantee active = no }
		}
		if = {
			limit = { DOM = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = DOM relation = guarantee active = no }
		}
		if = {
			limit = { HAI = { gives_military_access_to = USA } }
			diplomatic_relation = { country = HAI relation = military_access active = no }
		}
		if = {
			limit = { DOM = { gives_military_access_to = USA } }
			diplomatic_relation = { country = DOM relation = military_access active = no }
		}

		# Canada receives notification
		CAN = {
			if = {
				limit = {
					is_subject = no
					is_faction_leader = yes
					NOT = { has_war_with = USA }
				}
				country_event = { id = amcivwar.150 hours = 8 }
			}
		}

		# USA colony events
		"LIB" = { country_event = { id = amcivwar.212 hours = 8 } }
		"PHI" = { country_event = { id = amcivwar.226 hours = 8 } }

		USA = {
			country_event = { id = amcivwar.71 days = 7 } #Chief of Staff
			country_event = { id = amcivwar.72 days = 14 } #Chief of Army
			country_event = { id = amcivwar.74 days = 21 } #Chief of Air Force
			country_event = { id = amcivwar.73 days = 28 } #Chief of Navy
			country_event = { id = amcivwar.65 days = 40 random = 10 } # Martial Law?
			country_event = { id = amcivwar.64 days = 90 random = 10 } # Hardship of the civil war
			country_event = { id = amcivwar.66 days = 120 random = 20 } # Loyalist Terror
			country_event = { id = amcivwar.67 days = 150 random = 20 } # Native American Code talkers
			country_event = { id = amcivwar.69 days = 180 random = 20 } # Double V Campaign
			country_event = { id = amcivwar.70 days = 200 random = 20 } # Militarize the WASPs?

			news_event = { id = worldnews.1 hours = 4 } #main news event
		}

		# ACW related events for non-US nations
		BOL = {
			country_event = { id = bol.21 days = 10 random = 100 }
		}
	}
}

USA_civil_war_ends = {
	hidden_effect = {
		if = {
			limit = { NOT = { has_global_flag = USA_civil_war_over_flag } }
			USA = {
				if = {
					limit = { exists = no }
					add_ideas = {
						civilian_economy
						volunteer_only
						USA_civil_war_political_aftermath_idea
						USA_civil_war_war_aftermath_idea
					}
				}
			}
			TEX = {
				if = {
					limit = { exists = no }
					add_ideas = {
						civilian_economy
						volunteer_only
						TEX_political_instability_1
						TEX_national_recovery_idea1
					}
				}
			}
			COR = {
				if = {
					limit = { exists = no }
					add_ideas = {
						civilian_economy
						volunteer_only
						USA_civil_war_political_aftermath_idea
						USA_civil_war_war_aftermath_idea
					}
				}
			}
			CSA = {
				if = {
					limit = { exists = no }
					add_ideas = {
						civilian_economy
						volunteer_only
						USA_civil_war_political_aftermath_idea
						USA_civil_war_war_aftermath_idea
					}
				}
			}
			CAL = {
				if = {
					limit = { exists = no }
					add_ideas = {
						civilian_economy
						volunteer_only
						USA_civil_war_political_aftermath_idea
						USA_civil_war_war_aftermath_idea
					}
				}
			}

			every_state = {
				limit = {
					owner = { is_american_tag = yes }
					OR = {
						state = 364
						state = 365
						state = 369
						state = 370
						state = 377
						state = 382
						state = 383
						state = 391
						state = 833
					}
				}
				remove_building = { type = arms_factory level = 1 }
			}
			every_state = {
				limit = {
					owner = { is_american_tag = yes }
					OR = {
						state = 359
						state = 361
						state = 362
						state = 363
						state = 366
						state = 371
						state = 372
						state = 374
						state = 392
						state = 393
					}
				}
				remove_building = { type = arms_factory level = 2 }
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
			}
			every_state = {
				limit = {
					owner = { is_american_tag = yes }
					OR = {
						state = 367
						state = 368
						state = 395
						state = 798
					}
				}
				remove_building = { type = arms_factory level = 3 }
				add_building_construction = { type = industrial_complex level = 2 instant_build = yes }
			}
			every_state = {
				limit = {
					owner = { is_american_tag = yes }
					OR = {
						state = 360
						state = 373
						state = 797
						state = 929
						state = 930
					}
				}
				remove_building = { type = arms_factory level = 4 }
				add_building_construction = { type = industrial_complex level = 3 instant_build = yes }
			}
			every_state = {
				limit = {
					owner = { is_american_tag = yes }
					OR = {
						state = 261
						state = 375
						state = 394
						state = 396
					}
				}
				remove_building = { type = arms_factory level = 5 }
				add_building_construction = { type = industrial_complex level = 4 instant_build = yes }
			}
			378 = {
				if = {
					limit = { owner = { is_american_tag = yes } }
					remove_building = { type = arms_factory level = 6 }
					add_building_construction = { type = industrial_complex level = 5 instant_build = yes }
				}
			}
			829 = {
				if = {
					limit = { owner = { is_american_tag = yes } }
					remove_building = { type = arms_factory level = 7 }
					add_building_construction = { type = industrial_complex level = 6 instant_build = yes }
				}
			}
		}
		set_global_flag = USA_civil_war_over_flag
	}
}

USA_demobilize_forces = {
	CSA = {
		if = {
			limit = { has_template = "Revolutionary Union Militia" }
			delete_unit_template_and_units = { division_template = "Revolutionary Union Militia" }
		}
	}
	TEX = {
		if = {
			limit = { has_template = "AUS Militia" }
			delete_unit_template_and_units = { division_template = "AUS Militia" }
		}
	}
	COR = {
		if = {
			limit = { has_template = "CAR Militia" }
			delete_unit_template_and_units = { division_template = "CAR Militia" }
		}
		if = {
			limit = { has_template = "CAR Garrison" }
			delete_unit_template_and_units = { division_template = "CAR Garrison" }
		}
	}
	WCC = {
		if = {
			limit = { has_template = "National Guard Division" }
			delete_unit_template_and_units = { division_template = "National Guard Division" }
		}
		if = {
			limit = { has_template = "Army-National Guard Division" }
			delete_unit_template_and_units = { division_template = "Army-National Guard Division" }
		}
	}
	USA = {
		if = {
			limit = { has_template = "Loyalist Cavalry Guard" }
			delete_unit_template_and_units = { division_template = "Loyalist Cavalry Guard" }
		}
		if = {
			limit = { has_template = "Loyalist Militia" }
			delete_unit_template_and_units = { division_template = "Loyalist Militia" }
		}
		if = {
			limit = { has_template = "Mounted Loyalists" }
			delete_unit_template_and_units = { division_template = "Mounted Loyalists" }
		}
		if = {
			limit = { has_template = "Loyalist Motorized Guard" }
			delete_unit_template_and_units = { division_template = "Loyalist Motorized Guard" }
		}
	}
	CAL = {
		if = {
			limit = { has_template = "Loyalist Volunteer" }
			delete_unit_template_and_units = { division_template = "Loyalist Volunteer" }
		}
		if = {
			limit = { has_template = "Mounted PSA Militia" }
			delete_unit_template_and_units = { division_template = "Mounted PSA Militia" }
		}
		if = {
			limit = { has_template = "PSA Militia" }
			delete_unit_template_and_units = { division_template = "PSA Militia" }
		}
		if = {
			limit = { has_template = "PSA Garrison" }
			delete_unit_template_and_units = { division_template = "PSA Garrison" }
		}
		if = {
			limit = { has_template = "PSA Resistance" }
			delete_unit_template_and_units = { division_template = "PSA Resistance" }
		}
	}
}

ACW_surrender_effect = {
	custom_effect_tooltip = amcivwar_surrender_tooltip
	hidden_effect = {
		# transfer states occupied by other ACW countries
		every_owned_state = {
			limit = {
				NOT = { state = event_target:last_state }
				NOT = { is_controlled_by = ROOT }
				OR = {
					is_controlled_by = CSA
					is_controlled_by = TEX
					is_controlled_by = CAL
					is_controlled_by = USA
					is_controlled_by = NEE
					is_controlled_by = WCC
					is_controlled_by = COR
				}
			}
			controller = { transfer_state = PREV }
		}
		# then return controlled states to their owners
		every_state = {
			limit = {
				is_controlled_by = ROOT
				NOT = { is_owned_by = ROOT }
			}
			owner = { set_state_controller = PREV }
		}
		# then give occupied states to Canada, if they're neighboring
		if = {
			limit = { has_war_with = CAN }
			every_owned_state = {
				limit = {
					any_neighbor_state = { is_owned_by = CAN }
					controller = { is_in_faction_with = CAN }
				}
				CAN = { transfer_state = PREV }
			}
			every_owned_state = {
				limit = {
					any_neighbor_state = { is_owned_by = CAN }
					controller = { is_in_faction_with = CAN }
				}
				CAN = { transfer_state = PREV }
			}
			every_owned_state = {
				limit = {
					any_neighbor_state = { is_owned_by = CAN }
					controller = { is_in_faction_with = CAN }
				}
				CAN = { transfer_state = PREV }
			}
		}
		# then give occupied claimed states to Mexico
		if = {
			limit = { has_war_with = MEX }
			every_owned_state = {
				limit = {
					any_neighbor_state = { is_controlled_by = MEX }
					is_controlled_by = MEX
					OR = {
						is_core_of = MEX
						is_claimed_by = MEX
					}
				}
				MEX = { transfer_state = PREV }
			}
		}
	}
	if = {
		limit = {
			OR = {
				is_ai = no
				any_owned_state = {
					NOT = { state = event_target:last_state }
					NOT = { is_controlled_by = ROOT }
				}
			}
		}
		add_ideas = amcviwar_ready_to_surrender
		else = {
			event_target:annex_to = {
				annex_country = { target = ROOT }
				hidden_effect = {
					country_event = { id = amcivwar.606 days = 1 } #cleanup
				}
			}
		}
	}
}

USA_political_recovery = {
	if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea }
		swap_ideas = {
			remove_idea = USA_civil_war_political_aftermath_idea
			add_idea = USA_civil_war_political_aftermath_idea2
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea2 }
		swap_ideas = {
			remove_idea = USA_civil_war_political_aftermath_idea2
			add_idea = USA_civil_war_political_aftermath_idea3
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea3 }
		swap_ideas = {
			remove_idea = USA_civil_war_political_aftermath_idea3
			add_idea = USA_civil_war_political_aftermath_idea4
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea4 }
		swap_ideas = {
			remove_idea = USA_civil_war_political_aftermath_idea4
			add_idea = USA_civil_war_political_aftermath_idea5
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea5 }
		swap_ideas = {
			remove_idea = USA_civil_war_political_aftermath_idea5
			add_idea = USA_civil_war_political_aftermath_idea6
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea6 }
			remove_ideas = USA_civil_war_political_aftermath_idea6
		}
	}

USA_depression_recovery = {
	if = {
		limit = { has_idea = USA_civil_war_war_aftermath_idea }
		swap_ideas = {
			remove_idea = USA_civil_war_war_aftermath_idea
			add_idea = USA_civil_war_war_aftermath_idea2
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_war_aftermath_idea2 }
		swap_ideas = {
			remove_idea = USA_civil_war_war_aftermath_idea2
			add_idea = USA_civil_war_war_aftermath_idea3
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_war_aftermath_idea3 }
		swap_ideas = {
			remove_idea = USA_civil_war_war_aftermath_idea3
			add_idea = USA_civil_war_war_aftermath_idea4
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_war_aftermath_idea4 }
		swap_ideas = {
			remove_idea = USA_civil_war_war_aftermath_idea4
			add_idea = USA_civil_war_war_aftermath_idea5
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_war_aftermath_idea5 }
			remove_ideas = USA_civil_war_war_aftermath_idea5
	}
}

TEX_increase_recovery = {
	if = {
		limit = { has_idea = TEX_national_recovery_idea1 }
		swap_ideas = {
			remove_idea = TEX_national_recovery_idea1
			add_idea = TEX_national_recovery_idea2
		}
	}
	else_if = {
		limit = { has_idea = TEX_national_recovery_idea2 }
		swap_ideas = {
			remove_idea = TEX_national_recovery_idea2
			add_idea = TEX_national_recovery_idea3
		}
	}
	else_if = {
		limit = { has_idea = TEX_national_recovery_idea3 }
		swap_ideas = {
			remove_idea = TEX_national_recovery_idea3
			add_idea = TEX_national_recovery_idea4
		}
	}
	else_if = {
		limit = { has_idea = TEX_national_recovery_idea4 }
		swap_ideas = {
			remove_idea = TEX_national_recovery_idea4
			add_idea = TEX_national_recovery_idea5
		}
	}
	else_if = {
		limit = { has_idea = TEX_national_recovery_idea5 }
		swap_ideas = {
			remove_idea = TEX_national_recovery_idea5
			add_idea = TEX_national_recovery_idea6
		}
	}
}

TEX_increase_political_recovery = {
	if = {
		limit = { has_idea = TEX_political_instability_1 }
		swap_ideas = {
			remove_idea = TEX_political_instability_1
			add_idea = TEX_political_instability_2
		}
	}
	else_if = {
		limit = { has_idea = TEX_political_instability_2 }
		swap_ideas = {
			remove_idea = TEX_political_instability_2
			add_idea = TEX_political_instability_3
		}
	}
	else_if = {
		limit = { has_idea = TEX_political_instability_3 }
		swap_ideas = {
			remove_idea = TEX_political_instability_3
			add_idea = TEX_political_instability_4
		}
	}
	else_if = {
		limit = { has_idea = TEX_political_instability_4 }
		swap_ideas = {
			remove_idea = TEX_political_instability_4
			add_idea = TEX_political_instability_5
		}
	}
	else_if = {
		limit = { has_idea = TEX_political_instability_5 }
		swap_ideas = {
			remove_idea = TEX_political_instability_5
			add_idea = TEX_political_instability_6
		}
	}
}

CSA_increase_recovery = {
	if = {
		limit = { has_idea = USA_civil_war_war_aftermath_idea }
		swap_ideas = {
			remove_idea = USA_civil_war_war_aftermath_idea
			add_idea = USA_civil_war_war_aftermath_idea2
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_war_aftermath_idea2 }
		swap_ideas = {
			remove_idea = USA_civil_war_war_aftermath_idea2
			add_idea = USA_civil_war_war_aftermath_idea3
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_war_aftermath_idea3 }
		swap_ideas = {
			remove_idea = USA_civil_war_war_aftermath_idea3
			add_idea = USA_civil_war_war_aftermath_idea4
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_war_aftermath_idea4 }
		swap_ideas = {
			remove_idea = USA_civil_war_war_aftermath_idea4
			add_idea = USA_civil_war_war_aftermath_idea5
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_war_aftermath_idea5 }
			remove_ideas = USA_civil_war_war_aftermath_idea5
	}
}

CSA_increase_political_recovery = {
	if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea }
		swap_ideas = {
			remove_idea = USA_civil_war_political_aftermath_idea
			add_idea = USA_civil_war_political_aftermath_idea2
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea2 }
		swap_ideas = {
			remove_idea = USA_civil_war_political_aftermath_idea2
			add_idea = USA_civil_war_political_aftermath_idea3
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea3 }
		swap_ideas = {
			remove_idea = USA_civil_war_political_aftermath_idea3
			add_idea = USA_civil_war_political_aftermath_idea4
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea4 }
		swap_ideas = {
			remove_idea = USA_civil_war_political_aftermath_idea4
			add_idea = USA_civil_war_political_aftermath_idea5
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea5 }
		swap_ideas = {
			remove_idea = USA_civil_war_political_aftermath_idea5
			add_idea = USA_civil_war_political_aftermath_idea6
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea6 }
			remove_ideas = USA_civil_war_political_aftermath_idea6
	}
}

COR_increase_recovery = {
	if = {
		limit = { has_idea = USA_civil_war_war_aftermath_idea }
		swap_ideas = {
			remove_idea = USA_civil_war_war_aftermath_idea
			add_idea = USA_civil_war_war_aftermath_idea2
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_war_aftermath_idea2 }
		swap_ideas = {
			remove_idea = USA_civil_war_war_aftermath_idea2
			add_idea = USA_civil_war_war_aftermath_idea3
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_war_aftermath_idea3 }
		swap_ideas = {
			remove_idea = USA_civil_war_war_aftermath_idea3
			add_idea = USA_civil_war_war_aftermath_idea4
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_war_aftermath_idea4 }
		swap_ideas = {
			remove_idea = USA_civil_war_war_aftermath_idea4
			add_idea = USA_civil_war_war_aftermath_idea5
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_war_aftermath_idea5 }
			remove_ideas = USA_civil_war_war_aftermath_idea5
		}
	}

COR_increase_political_recovery = {
	if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea }
		swap_ideas = {
			remove_idea = USA_civil_war_political_aftermath_idea
			add_idea = USA_civil_war_political_aftermath_idea2
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea2 }
		swap_ideas = {
			remove_idea = USA_civil_war_political_aftermath_idea2
			add_idea = USA_civil_war_political_aftermath_idea3
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea3 }
		swap_ideas = {
			remove_idea = USA_civil_war_political_aftermath_idea3
			add_idea = USA_civil_war_political_aftermath_idea4
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea4 }
		swap_ideas = {
			remove_idea = USA_civil_war_political_aftermath_idea4
			add_idea = USA_civil_war_political_aftermath_idea5
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea4 }
		swap_ideas = {
			remove_idea = USA_civil_war_political_aftermath_idea4
			add_idea = USA_civil_war_political_aftermath_idea5
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea5 }
		swap_ideas = {
			remove_idea = USA_civil_war_political_aftermath_idea5
			add_idea = USA_civil_war_political_aftermath_idea6
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea6 }
			remove_ideas = USA_civil_war_political_aftermath_idea6
	}
}

CAL_increase_recovery = {
	if = {
		limit = { has_idea = USA_civil_war_war_aftermath_idea }
		swap_ideas = {
			remove_idea = USA_civil_war_war_aftermath_idea
			add_idea = USA_civil_war_war_aftermath_idea2
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_war_aftermath_idea2 }
		swap_ideas = {
			remove_idea = USA_civil_war_war_aftermath_idea2
			add_idea = USA_civil_war_war_aftermath_idea3
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_war_aftermath_idea3 }
		swap_ideas = {
			remove_idea = USA_civil_war_war_aftermath_idea3
			add_idea = USA_civil_war_war_aftermath_idea4
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_war_aftermath_idea4 }
		swap_ideas = {
			remove_idea = USA_civil_war_war_aftermath_idea4
			add_idea = USA_civil_war_war_aftermath_idea5
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_war_aftermath_idea5 }
			remove_ideas = USA_civil_war_war_aftermath_idea5
		}
	}

CAL_increase_political_recovery = {
	if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea }
		swap_ideas = {
			remove_idea = USA_civil_war_political_aftermath_idea
			add_idea = USA_civil_war_political_aftermath_idea2
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea2 }
		swap_ideas = {
			remove_idea = USA_civil_war_political_aftermath_idea2
			add_idea = USA_civil_war_political_aftermath_idea3
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea3 }
		swap_ideas = {
			remove_idea = USA_civil_war_political_aftermath_idea3
			add_idea = USA_civil_war_political_aftermath_idea4
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea4 }
		swap_ideas = {
			remove_idea = USA_civil_war_political_aftermath_idea4
			add_idea = USA_civil_war_political_aftermath_idea5
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea5 }
		swap_ideas = {
			remove_idea = USA_civil_war_political_aftermath_idea5
			add_idea = USA_civil_war_political_aftermath_idea6
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea6 }
			remove_ideas = USA_civil_war_political_aftermath_idea6
		}
	}

WCC_increase_recovery = {
	if = {
		limit = { has_idea = USA_civil_war_war_aftermath_idea }
		swap_ideas = {
			remove_idea = USA_civil_war_war_aftermath_idea
			add_idea = USA_civil_war_war_aftermath_idea2
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_war_aftermath_idea2 }
		swap_ideas = {
			remove_idea = USA_civil_war_war_aftermath_idea2
			add_idea = USA_civil_war_war_aftermath_idea3
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_war_aftermath_idea3 }
		swap_ideas = {
			remove_idea = USA_civil_war_war_aftermath_idea3
			add_idea = USA_civil_war_war_aftermath_idea4
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_war_aftermath_idea4 }
		swap_ideas = {
			remove_idea = USA_civil_war_war_aftermath_idea4
			add_idea = USA_civil_war_war_aftermath_idea5
		}
	}
}

WCC_increase_political_recovery = {
	if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea }
		swap_ideas = {
			remove_idea = USA_civil_war_political_aftermath_idea
			add_idea = USA_civil_war_political_aftermath_idea2
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea2 }
		swap_ideas = {
			remove_idea = USA_civil_war_political_aftermath_idea2
			add_idea = USA_civil_war_political_aftermath_idea3
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea3 }
		swap_ideas = {
			remove_idea = USA_civil_war_political_aftermath_idea3
			add_idea = USA_civil_war_political_aftermath_idea4
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea4 }
		swap_ideas = {
			remove_idea = USA_civil_war_political_aftermath_idea4
			add_idea = USA_civil_war_political_aftermath_idea5
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea5 }
		swap_ideas = {
			remove_idea = USA_civil_war_political_aftermath_idea5
			add_idea = USA_civil_war_political_aftermath_idea6
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_political_aftermath_idea6 }
			remove_ideas = USA_civil_war_political_aftermath_idea6
	}
}

COR_american_empire_strenghtens = {
	if = {
		limit = { has_idea = COR_american_empire }
		swap_ideas = {
			remove_idea = COR_american_empire
			add_idea = COR_american_empire2
		}
	}
	else_if = {
		limit = { has_idea = COR_american_empire2 }
		swap_ideas = {
			remove_idea = COR_american_empire2
			add_idea = COR_american_empire3
		}
	}
	else_if = {
		limit = { has_idea = COR_american_empire3 }
		swap_ideas = {
			remove_idea = COR_american_empire3
			add_idea = COR_american_empire4
		}
	}
	else_if = {
		limit = { has_idea = COR_american_empire4 }
		swap_ideas = {
			remove_idea = COR_american_empire4
			add_idea = COR_american_empire5
		}
	}
}

remove_ACW_cores = {
	if = {
		limit = {
			is_core_of = USA
			ROOT = { NOT = { tag = USA } }
		}
		remove_core_of = USA
	}
	if = {
		limit = {
			is_claimed_by = USA
			ROOT = { NOT = { tag = USA } }
		}
		remove_claim_by = USA
	}
	if = {
		limit = {
			is_core_of = CAL
			ROOT = { NOT = { tag = CAL } }
		}
		remove_core_of = CAL
	}
	if = {
		limit = {
			is_claimed_by = CAL
			ROOT = { NOT = { tag = CAL } }
		}
		remove_claim_by = CAL
	}
	if = {
		limit = {
			is_core_of = TEX
			ROOT = { NOT = { tag = TEX } }
		}
		remove_core_of = TEX
	}
	if = {
		limit = {
			is_claimed_by = TEX
			ROOT = { NOT = { tag = TEX } }
		}
		remove_claim_by = TEX
	}
	if = {
		limit = {
			is_core_of = COR
			ROOT = { NOT = { tag = COR } }
		}
		remove_core_of = COR
	}
	if = {
		limit = {
			is_claimed_by = COR
			ROOT = { NOT = { tag = COR } }
		}
		remove_claim_by = COR
	}	
	if = {
		limit = {
			is_core_of = WCC
			ROOT = { NOT = { tag = WCC } }
		}
		remove_core_of = WCC
	}
	if = {
		limit = {
			is_claimed_by = WCC
			ROOT = { NOT = { tag = WCC } }
		}
		remove_claim_by = WCC
	}
	if = {
		limit = {
			is_core_of = CSA
			ROOT = { NOT = { tag = CSA } }
		}
		remove_core_of = CSA
	}
	if = {
		limit = {
			is_claimed_by = CSA
			ROOT = { NOT = { tag = CSA } }
		}
		remove_claim_by = CSA
	}
	if = {
		limit = {
			is_core_of = NEE
			ROOT = { NOT = { tag = NEE } }
		}
		remove_core_of = NEE
	}
	if = {
		limit = {
			is_claimed_by = NEE
			ROOT = { NOT = { tag = NEE } }
		}
		remove_claim_by = NEE
	}
}

CSA_add_units = {
	add_to_variable = { var = unit_count value = 1 }
	
	if = {
		limit = { check_variable = { unit_count < 6 } }
		capital_scope = {
			create_unit = {
				division = "division_template = \"Revolutionary Continental Army\" start_experience_factor = 0.3"
				owner = CSA
			}
		}
	}
	else_if = {
		limit = { check_variable = { unit_count < 8 } }
		capital_scope = {
			create_unit = {
				division = "division_template = \"Revolutionary Mobile Divisions\" start_experience_factor = 0.3"
				owner = CSA
			}
		}
	}
	else_if = {
		limit = { check_variable = { unit_count < 9 } }
		capital_scope = {
			create_unit = {
				division = "division_template = \"Mounted Revolutionary Militia\" start_experience_factor = 0.3"
				owner = CSA
			}
		}
	}
	else_if = {
		limit = { check_variable = { unit_count < 11 } }
		capital_scope = {
			create_unit = {
				division = "division_template = \"Revolutionary Garrison\" start_experience_factor = 0.3"
				owner = CSA
			}
		}
	}

	subtract_from_variable = { var = strength value = 1 }
	if = {
		limit = { check_variable = { strength > 0.99 } }
		CSA_add_units = yes
	}
}

TEX_add_units = {
	add_to_variable = { var = unit_count value = 1 }
	
	if = {
		limit = { check_variable = { unit_count < 6 } }
		capital_scope = {
			create_unit = {
				division = "division_template = \"AUS Infantry Division\" start_experience_factor = 0.3"
				owner = TEX
			}
		}
	}
	else_if = {
		limit = { check_variable = { unit_count < 8 } }
		capital_scope = {
			create_unit = {
				division = "division_template = \"AUS Motorized Division\" start_experience_factor = 0.3"
				owner = TEX
			}
		}
	}
	else_if = {
		limit = { check_variable = { unit_count < 9 } }
		capital_scope = {
			create_unit = {
				division = "division_template = \"Mounted AUS Militia\" start_experience_factor = 0.3"
				owner = TEX
			}
		}
	}
	else_if = {
		limit = { check_variable = { unit_count < 11 } }
		capital_scope = {
			create_unit = {
				division = "division_template = \"AUS Garrison\" start_experience_factor = 0.3"
				owner = TEX
			}
		}
	}

	if = {
		limit = { check_variable = { unit_count < 11 } }
		set_variable = { unit_count = 0 }
	}
	
	subtract_from_variable = { var = strength value = 1 }
	if = {
		limit = { check_variable = { strength > 0.99 } }
		TEX_add_units = yes
	}
}


